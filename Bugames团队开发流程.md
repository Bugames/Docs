

# Bugames团队开发流程

## 1.Unity团队开发注意事项

- **Unity团队开发时候不要使用同一场景下进行开发，可以新建一个场景或者复制粘贴生成一个新场景再进行开发（不然会发生冲突且会覆盖其他人做的东西）**

- **Unity目录结构**：只需要Assets和ProjectSettings这两个文件夹，其他不需要提交到Git版本管理上，即右键忽略除Assets和ProjectSettings中的其他东西

  ![image-20201029180147926](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029180149296-378485457.png)

- **UnityAssert结构规范**

  ![image-20201029180039920](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029180041380-591856832.png)

  ![image-20201029180108307](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029180109754-548244962.png)

  



## 2.初始化仓库

首先在[团队仓库](https://github.com/Bugames)中把MarioPlan仓库fork到自己的账号中，然后把自己仓库的clone仓库到本地中，可用Git GUI 或者命令行 但推荐用VS图形化界面

![image-20201029170542960](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029170544148-1752595821.png)

![image-20201029165003311](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029165004563-663426593.png)



克隆到本地后，注意是否会产生下面这个.vs文件（团队项目仓库通常已经在.gitignore文件忽略好，所以这里不存在.vs文件夹）

![image-20201029134420502](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029134421243-1323203658.png)

如果存在该文件夹，要右键忽略该文件夹

![image-20201029134650816](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029134651605-518827525.png)

创建feature本地分支，双击远程库的feature分支即可创建分支并关联起来，并切换到feature分支

![image-20201029134913065](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029134916921-1178521487.png)

在本地仓库目录上进入命令行，或者下图进入命令行

![image-20201029170440560](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029170441742-603252983.png)

在命令行中进行如下操作

![image-20201029171550211](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029171551405-184509295.png)

- **git remote -v**  查看，发现没有upstream，只有Origin
- **git remote add upstream** 团队项目地址    设置与团队项目关联
- **git remote -v** 查看,发现当前upstream以及存在
- **git branch -vv**  查看当前分支与远程仓库关联情况，若是origin/xx分支即可

## 3.提交代码流程

**完成工作后**，首先commit到本地分支

1. 第一步先拉取团队仓库的更新，在提取这里选择upstream提取，然后从upstream/feature（即要提取的更新的分支）到你工作的分支合并

   ![image-20201029173931774](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029173932990-718421620.png)

   ![image-20201029174237199](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029174238745-2033074185.png)

   如果发生冲突既可解决后才可合并（如下图）

   ![image-20201029175048316](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029175049620-695997949.png)

   合并成功即可获取团队仓库最新版本

2. 第二步选择提交的远程库分支 origin /xx分支，origin是自己仓库，upstream是团队仓库，推送到自己的仓库即可

   ![image-20201029175248214](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029175249415-1902325660.png)

   然后在你推送的远程仓库分支上选择pull request

   ![image-20201029175612559](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029175613842-1942004842.png)

   ![image-20201029175700840](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029175702213-374409329.png)

   1. 看清要推送的团队分支，这里是当前分支推送到团队项目的feature分支
   2. 写好简述
   3. 写下详细描述
   4. 选择Reviewrs,选择团队负责人

   最后Create pull request等待reviewer复审即可

   <br><br>

   提交代码流程图：

   ![Untitled Diagram (3)](https://img2020.cnblogs.com/blog/1656870/202010/1656870-20201029181634990-40358853.png)

   

   

   

   

   

   

